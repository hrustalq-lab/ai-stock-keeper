# ============================================
# AI Stock Keeper - Environment Variables
# ============================================
# Скопируйте этот файл в .env и заполните значения

# ============================================
# База данных PostgreSQL
# ============================================
# Development (локальный Docker)
DATABASE_URL="postgresql://postgres:postgres_dev_password@localhost:5432/ai_stock_keeper"
# Production (внешний сервер)
# DATABASE_URL="postgresql://user:password@db-host:5432/ai_stock_keeper"

# ============================================
# Redis
# ============================================
# Development
REDIS_URL="redis://localhost:6379"
# Production (внутри Docker network)
# REDIS_URL="redis://redis:6379"

# ============================================
# 1C Configuration
# ============================================
# Base URL для 1C API (или mock-сервера в dev)
ONE_C_BASE_URL="http://localhost:3001/api/1c"
# Production
# ONE_C_BASE_URL="https://your-1c-server.com/api"

# Аутентификация 1C
ONE_C_USERNAME="admin"
ONE_C_PASSWORD="dev_password"

# ID основного склада
ONE_C_WAREHOUSE_ID="warehouse_main"

# Автоматическое создание документов отгрузки в 1C
ONE_C_AUTO_CREATE_SHIPMENT="true"

# ============================================
# Application
# ============================================
NODE_ENV="development"

# ============================================
# Bull Queue
# ============================================
BULL_QUEUE_NAME="1c-sync-queue"

# ============================================
# Webhook Security (HMAC-SHA256)
# ============================================
# Секрет для проверки подписи webhook от 1C
# Минимум 16 символов, должен совпадать с настройками в 1C
ONE_C_WEBHOOK_SECRET="your_webhook_secret_min_16_chars"

# ============================================
# Phase 3: Email Notifications (Resend)
# ============================================
# API ключ от Resend (https://resend.com)
# Опционально - без ключа алерты будут логироваться
RESEND_API_KEY=""

# Email отправителя (требует верифицированный домен в Resend)
RESEND_FROM_EMAIL="alerts@localhost"

# ============================================
# Phase 3: Alert Settings
# ============================================
# Cooldown между алертами по умолчанию (минуты)
ALERT_DEFAULT_COOLDOWN_MINS="60"

# ============================================
# Phase 4: Forecasting
# ============================================
# URL Prophet микросервиса (опционально)
PROPHET_SERVICE_URL=""

# Параметры прогнозирования
FORECAST_DEFAULT_HISTORY_DAYS="60"
FORECAST_DEFAULT_PERIODS="14"
REORDER_DEFAULT_LEAD_TIME_DAYS="7"
REORDER_DEFAULT_SERVICE_LEVEL="0.95"

# ============================================
# Phase 5: Picking Optimization
# ============================================
# Алгоритм оптимизации маршрута (nearest_neighbor | zone_based)
ROUTE_OPTIMIZATION_ALGORITHM="nearest_neighbor"

# Скорость перемещения по складу (м/с)
WAREHOUSE_WALKING_SPEED_MPS="1.4"

# Время на сбор одной позиции (секунды)
WAREHOUSE_PICK_TIME_SECONDS="15"

# ============================================
# Production Only (не используется в development)
# ============================================
# APP_VERSION="latest"
# APP_PORT="3000"
# APP_DOMAIN="stock.yourdomain.com"
